{% extends 'base.html' %}

{% block title %}{{ action }} une Cr√©ation - Azaleen Handwerk{% endblock %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center py-12 px-4">
    <div
        class="w-full max-w-2xl bg-white dark:bg-brand-900 rounded-[3rem] shadow-2xl p-8 md:p-12 relative overflow-hidden ring-4 ring-brand-50 dark:ring-brand-800 animate-float">

        <!-- Decoration -->
        <div
            class="absolute top-0 right-0 w-64 h-64 bg-brand-100/50 rounded-full blur-[80px] -mr-32 -mt-32 pointer-events-none">
        </div>
        <div
            class="absolute bottom-0 left-0 w-64 h-64 bg-brand-200/50 rounded-full blur-[80px] -ml-32 -mb-32 pointer-events-none">
        </div>

        <h2
            class="text-4xl font-serif text-brand-600 dark:text-brand-200 mb-8 text-center relative z-10 flex items-center justify-center gap-3">
            <span>üé®</span> {{ action }} la Cr√©ation
        </h2>

        <form method="post" enctype="multipart/form-data" class="space-y-8 relative z-10">
            {% csrf_token %}

            {% if form.errors %}
            <div class="p-4 bg-brand-50 text-brand-500 rounded-xl text-center border border-brand-200">
                Oups, il y a une petite erreur dans le formulaire.
            </div>
            {% endif %}

            <div class="space-y-6">
                <!-- Title -->
                <div class="group">
                    <label
                        class="block text-sm font-bold text-brand-500 dark:text-brand-300 mb-2 ml-4 uppercase tracking-widest">Titre
                        de l'≈ìuvre</label>
                    {{ form.title }}
                </div>

                <!-- Description -->
                <div class="group">
                    <label
                        class="block text-sm font-bold text-brand-500 dark:text-brand-300 mb-2 ml-4 uppercase tracking-widest">L'histoire
                        derri√®re (Description)</label>
                    {{ form.description }}
                </div>

                <!-- Image -->
                <div class="group">
                    <label
                        class="block text-sm font-bold text-brand-500 dark:text-brand-300 mb-2 ml-4 uppercase tracking-widest">Photo</label>

                    {% if item.image %}
                    <div class="mb-4 ml-4">
                        <p class="text-xs text-brand-400 mb-2">Actuelle :</p>
                        <img src="{{ item.image.url }}"
                            class="w-24 h-24 object-cover rounded-xl shadow-md border-2 border-brand-100">
                    </div>
                    {% endif %}

                    <div class="ml-4">
                        {{ form.image }}
                    </div>
                </div>
            </div>

            <div class="flex items-center gap-4 pt-4">
                <a href="{% url 'dashboard' %}"
                    class="flex-1 py-4 text-center rounded-full border-2 border-brand-200 text-brand-500 font-bold hover:bg-brand-50 transition">
                    Annuler
                </a>
                <button type="submit"
                    class="flex-[2] py-4 bg-brand-500 hover:bg-brand-600 text-white font-bold rounded-full shadow-lg hover:shadow-xl hover:shadow-brand-300/50 transition-all transform hover:-translate-y-1">
                    Enregistrer les modifications ‚ú®
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}